(function(a){function c(o){const p=o.target.parentNode,q=p.getAttribute('row'),r=p.getAttribute('column'),s=p.parentNode.querySelectorAll(`div[row="${q}"]`),t=p.parentNode.querySelectorAll(`div[column="${r}"`);// Look for the empty square along each axis from selected square
let u=j(s)||j(t);// If empty square isn't along either axis, can't move
u&&(u.getAttribute('row')===q?g(p,u,s):f(p,u,t))}function d(o,p,q,r){const s=Array.from(q),t=h(p.getAttribute(r),o.getAttribute(r)),u=p.innerHTML;let v=p,w;// Shift each square's content over one in the direction of the empty square
for(let x=0;x<t.length;x++)w=s.filter(y=>y.getAttribute(r)==t[x+1])[0],v.innerHTML=w?w.innerHTML:u,v=w}function f(o,p,q){d(o,p,q,'row')}function g(o,p,q){d(o,p,q,'column')}function h(o,p){const q=o>p?o:p,r=q===o?p:o;let s=[];for(let t=r;t<=q;t++)s.push(t);return q===o?s.reverse():s}function j(o){for(let q,p=0;p<o.length;p++)if(q=o[p],q.childNodes[0].classList.contains('empty'))return q}function k(o){let p=o.slice();for(let r,q=p.length;q;q--)r=Math.floor(Math.random()*q),[p[q-1],p[r]]=[p[r],p[q-1]];return p}const l=a.querySelector('#board'),m=16,n=Math.sqrt(m);(function(o){// Mix up numbers 0 - 15 into array to be placed in the board squares
const p=k(Array.from({length:m}).map(Number.call,Number));for(let r,q=0;q<p.length;q++){r=p[q];const s=a.createElement('div'),t=a.createElement('div');// Insert HTML structure and number into each square
s.className='square-container',s.setAttribute('column',q%n+1),s.setAttribute('row',Math.ceil((q+1)/n)),t.className=r?'square':'square empty',t.innerHTML=r,s.appendChild(t),o.appendChild(s),s.addEventListener('click',c)}})(l)})(document);